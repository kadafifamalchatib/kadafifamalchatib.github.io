(this["webpackJsonp@dmm/interface"]=this["webpackJsonp@dmm/interface"]||[]).push([[12],{"./src/assets/svg/uniswap-icon.svg":function(e,t,n){e.exports=n.p+"static/media/uniswap-icon.e47d1cfc.svg"},"./src/assets/svg/warning-icon.svg":function(e,t,n){e.exports=n.p+"static/media/warning-icon.1199f09d.svg"},"./src/data/ReservesUNI.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var a,r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/@uniswap/sdk/dist/sdk.esm.js"),o=n("./node_modules/react/index.js"),s=n("./node_modules/@uniswap/v2-core/build/IUniswapV2Pair.json"),c=n("./node_modules/@ethersproject/abi/lib.esm/index.js"),l=n("./src/hooks/index.ts"),d=n("./src/state/multicall/hooks.ts"),u=n("./src/utils/wrappedCurrency.ts"),m=new c.Interface(s.a);function b(e){var t=Object(l.b)().chainId,n=Object(o.useMemo)((function(){return e.map((function(e){var n=Object(r.a)(e,2),a=n[0],i=n[1];return[Object(u.b)(a,t),Object(u.b)(i,t)]}))}),[t,e]),s=Object(o.useMemo)((function(){return n.map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return n&&a&&!n.equals(a)&&n.chainId in i.a&&a.chainId in i.a?i.d.getAddress(new i.f(n.chainId,n.address,n.decimals,n.symbol,n.name),new i.f(a.chainId,a.address,a.decimals,a.symbol,a.name)):void 0}))}),[n]),c=Object(d.b)(s,m,"getReserves");return Object(o.useMemo)((function(){return c.map((function(e,t){var o=e.result,s=e.loading,c=n[t][0],l=n[t][1];if(s)return[a.LOADING,null];if(!c||!l||!(c.chainId in i.a)||!(l.chainId in i.a)||c.equals(l))return[a.INVALID,null];if(!o)return[a.NOT_EXISTS,null];var d=o.reserve0,u=o.reserve1,m=c.sortsBefore(l)?[c,l]:[l,c],b=Object(r.a)(m,2),p=b[0],E=b[1];return[a.EXISTS,new i.d(new i.g(new i.f(p.chainId,p.address,p.decimals,p.symbol,p.name),d.toString()),new i.g(new i.f(E.chainId,E.address,E.decimals,E.symbol,E.name),u.toString()))]}))}),[c,n])}function p(e,t){return b([[e,t]])[0]}!function(e){e[e.LOADING=0]="LOADING",e[e.NOT_EXISTS=1]="NOT_EXISTS",e[e.EXISTS=2]="EXISTS",e[e.INVALID=3]="INVALID"}(a||(a={}))},"./src/pages/RemoveLiquidity/migrate_uni.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ce}));var a,r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=n("./node_modules/@lingui/react/esm/index.js"),u=n("./node_modules/@lingui/core/esm/index.js"),m=n("./node_modules/@ethersproject/bytes/lib.esm/index.js"),b=n("./node_modules/@dynamic-amm/sdk/dist/sdk.esm.js"),p=n("./node_modules/@uniswap/sdk/dist/sdk.esm.js"),E=n("./node_modules/react/index.js"),v=n.n(E),g=n("./node_modules/react-feather/dist/icons/arrow-down.js"),f=n("./node_modules/rebass/dist/index.esm.js"),R=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),C=n("./src/components/Button/index.tsx"),O=n("./src/components/Card/index.tsx"),j=n("./src/components/Column/index.tsx"),_=n("./src/components/TransactionConfirmationModal/index.tsx"),h=n("./src/components/NavigationTabs/index.tsx"),N=n("./src/components/Row/index.tsx"),y=n("./src/components/Slider/index.tsx"),I=n("./src/components/CurrencyLogo/index.tsx"),w=n("./src/constants/index.ts"),x=n("./src/hooks/index.ts"),U=n("./src/hooks/Tokens.ts"),T=n("./src/hooks/useContract.ts"),Y=n("./src/hooks/useIsArgentWallet.ts"),k=n("./src/hooks/useTransactionDeadline.ts"),S=n("./src/state/transactions/hooks.tsx"),A=n("./src/utils/index.ts"),P=n("./src/utils/useDebouncedChangeHandler.tsx"),D=n("./src/utils/wrappedCurrency.ts"),B=n("./src/pages/AppBody.tsx"),L=n("./src/pages/Pool/styleds.tsx"),q=n("./node_modules/@ethersproject/constants/lib.esm/index.js"),W=n("./src/data/Allowances.ts"),z=n("./src/utils/dmm.ts");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={}));var V=n("./src/components/swap/styleds.tsx"),Q=n("./src/state/burn/hooks.ts"),M=n("./src/data/Reserves.ts"),F=n("./node_modules/react-redux/es/index.js"),G=n("./src/data/ReservesUNI.ts"),H=n("./src/data/TotalSupply.ts"),X=n("./src/state/swap/hooks.ts"),K=n("./src/state/wallet/hooks.ts"),J=n("./src/state/burn/actions.ts");function Z(){return Object(F.d)((function(e){return e.burn}))}var $=n("./src/state/mint/actions.ts"),ee=n("./src/state/application/hooks.ts"),te=n("./src/state/user/hooks.tsx"),ne=n("./node_modules/@ethersproject/bignumber/lib.esm/index.js"),ae=n("./node_modules/react-router/esm/react-router.js"),re=n("./src/state/mint/hooks_for_migration.ts"),ie=n("./src/utils/isZero.ts"),oe=n("./src/pages/RemoveLiquidity/styled.tsx"),se=R.default.div.withConfig({displayName:"migrate_uni__DashedLine",componentId:"sc-1t5uqbo-0"})(["width:100%;border:1px solid ",";border-style:dashed;margin-top:1rem;"],(function(e){return e.theme.bg3}));function ce(e){var t,i,F,ce,le,de,ue,me,be,pe,Ee,ve,ge=e.match.params,fe=ge.currencyIdA,Re=ge.currencyIdB,Ce=null!==(t=Object(U.b)(fe))&&void 0!==t?t:void 0,Oe=null!==(i=Object(U.b)(Re))&&void 0!==i?i:void 0,je=Object(x.b)(),_e=je.account,he=je.chainId,Ne=je.library,ye=Object(E.useMemo)((function(){return[Object(D.b)(Ce,he),Object(D.b)(Oe,he)]}),[Ce,Oe,he]),Ie=Object(l.a)(ye,2),we=Ie[0],xe=Ie[1],Ue=Object(E.useContext)(R.ThemeContext),Te=Object(M.g)([[Ce,Oe]]),Ye=Object(ee.r)(),ke=Z(),Se=ke.independentField,Ae=ke.typedValue,Pe=function(e,t){var n,a,r,i,o,s,d,m=Object(x.b)(),b=m.account,E=m.chainId,v=Z(),g=v.independentField,f=v.typedValue,R=Object(G.b)(e,t),C=Object(l.a)(R,2)[1],O=Object(K.f)(null!==b&&void 0!==b?b:void 0,[null===C||void 0===C?void 0:C.liquidityToken]),j=(null===O||void 0===O?void 0:O[null!==(n=null===C||void 0===C||null===(a=C.liquidityToken)||void 0===a?void 0:a.address)&&void 0!==n?n:""])?Object(z.l)(null===O||void 0===O?void 0:O[null!==(r=null===C||void 0===C||null===(i=C.liquidityToken)||void 0===i?void 0:i.address)&&void 0!==r?r:""]):void 0,_=[Object(D.b)(e,E),Object(D.b)(t,E)],h=_[0],N=_[1],y=(o={},Object(c.a)(o,J.a.CURRENCY_A,h),Object(c.a)(o,J.a.CURRENCY_B,N),Object(c.a)(o,J.a.LIQUIDITY,null===C||void 0===C?void 0:C.liquidityToken),o),I=Object(H.a)(null===C||void 0===C?void 0:C.liquidityToken),w=h&&Object(z.n)(h),U=I&&Object(z.l)(I),T=C&&I&&j&&h&&w&&U&&p.c.greaterThanOrEqual(I.raw,j.raw)?new p.g(w,C.getLiquidityValue(w,U,j,!1).raw):void 0,Y=N&&Object(z.n)(N),k=C&&I&&j&&N&&Y&&U&&p.c.greaterThanOrEqual(I.raw,j.raw)?new p.g(Y,C.getLiquidityValue(Y,U,j,!1).raw):void 0,S=(s={},Object(c.a)(s,J.a.CURRENCY_A,T),Object(c.a)(s,J.a.CURRENCY_B,k),s),A=new p.e("0","100");if(g===J.a.LIQUIDITY_PERCENT)A=new p.e(f,"100");else if(g===J.a.LIQUIDITY){if(null===C||void 0===C?void 0:C.liquidityToken){var P=Object(X.a)(f,C.liquidityToken);P&&j&&!P.greaterThan(j)&&(A=new p.e(P.raw,j.raw))}}else if(y[g]){var B=Object(X.a)(f,y[g]),L=S[g];B&&L&&!B.greaterThan(L)&&(A=new p.e(B.raw,L.raw))}var q,W,V=(d={},Object(c.a)(d,J.a.LIQUIDITY_PERCENT,A),Object(c.a)(d,J.a.LIQUIDITY,j&&A&&A.greaterThan("0")?new p.g(j.token,A.multiply(j.raw).quotient):void 0),Object(c.a)(d,J.a.CURRENCY_A,h&&w&&A&&A.greaterThan("0")&&T?new p.g(w,A.multiply(T.raw).quotient):void 0),Object(c.a)(d,J.a.CURRENCY_B,N&&Y&&A&&A.greaterThan("0")&&k?new p.g(Y,A.multiply(k.raw).quotient):void 0),d);return b||(q=u.a._("Connect wallet")),V[J.a.LIQUIDITY]&&V[J.a.CURRENCY_A]&&V[J.a.CURRENCY_B]||(q=null!==(W=q)&&void 0!==W?W:u.a._("Enter an amount")),{pair:C,parsedAmounts:V,error:q,unAmplifiedPairAddress:Object(M.f)(h,N)}}(null!==Ce&&void 0!==Ce?Ce:void 0,null!==Oe&&void 0!==Oe?Oe:void 0),De=Pe.pair,Be=Pe.parsedAmounts,Le=Pe.unAmplifiedPairAddress,qe=Pe.error,We=Object(Q.a)().onUserInput,ze=!qe,Ve=Object(E.useState)(!1),Qe=Object(l.a)(Ve,2),Me=Qe[0],Fe=Qe[1],Ge=Object(E.useState)(!1),He=Object(l.a)(Ge,2),Xe=He[0],Ke=He[1],Je=Object(E.useState)(""),Ze=Object(l.a)(Je,2),$e=Ze[0],et=Ze[1],tt=Object(k.a)(),nt=Object(te.y)(),at=Object(l.a)(nt,1)[0],rt=(be={},Object(c.a)(be,J.a.LIQUIDITY_PERCENT,Be[J.a.LIQUIDITY_PERCENT].equalTo("0")?"0":Be[J.a.LIQUIDITY_PERCENT].lessThan(new p.e("1","100"))?"<1":Be[J.a.LIQUIDITY_PERCENT].toFixed(0)),Object(c.a)(be,J.a.LIQUIDITY,Se===J.a.LIQUIDITY?Ae:null!==(F=null===(ce=Be[J.a.LIQUIDITY])||void 0===ce?void 0:ce.toSignificant(6))&&void 0!==F?F:""),Object(c.a)(be,J.a.CURRENCY_A,Se===J.a.CURRENCY_A?Ae:null!==(le=null===(de=Be[J.a.CURRENCY_A])||void 0===de?void 0:de.toSignificant(6))&&void 0!==le?le:""),Object(c.a)(be,J.a.CURRENCY_B,Se===J.a.CURRENCY_B?Ae:null!==(ue=null===(me=Be[J.a.CURRENCY_B])||void 0===me?void 0:me.toSignificant(6))&&void 0!==ue?ue:""),be),it=Object(T.k)(null===De||void 0===De||null===(pe=De.liquidityToken)||void 0===pe?void 0:pe.address),ot=Object(E.useState)(null),st=Object(l.a)(ot,2),ct=st[0],lt=st[1],dt=function(e,t){var n=Object(x.b)(),r=n.account,i=n.chainId,c=e instanceof p.g?e.token:void 0,l=Object(W.c)(c,null!==r&&void 0!==r?r:void 0,t),d=Object(S.c)(null===c||void 0===c?void 0:c.address,t),u=Object(E.useMemo)((function(){return e&&t?e.currency===p.b?a.APPROVED:l?l.lessThan(e)?d?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN:a.UNKNOWN}),[e,l,d,t]),m=Object(T.o)(null===c||void 0===c?void 0:c.address),b=Object(S.d)(),v=Object(E.useCallback)(Object(s.a)(o.a.mark((function n(){var r,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u===a.NOT_APPROVED){n.next=3;break}return console.error("approve was called unnecessarily"),n.abrupt("return");case 3:if(c){n.next=6;break}return console.error("no token"),n.abrupt("return");case 6:if(m){n.next=9;break}return console.error("tokenContract is null"),n.abrupt("return");case 9:if(e){n.next=12;break}return console.error("missing amount to approve"),n.abrupt("return");case 12:if(t){n.next=15;break}return console.error("no spender"),n.abrupt("return");case 15:return r=!1,n.next=18,m.estimateGas.approve(t,q.c).catch((function(){return r=!0,m.estimateGas.approve(t,e.raw.toString())}));case 18:return s=n.sent,n.abrupt("return",m.approve(t,r?e.raw.toString():q.c,{gasLimit:Object(A.b)(s)}).then((function(n){b(n,{type:"Approve",summary:Object(z.b)(e.currency,i).symbol,approval:{tokenAddress:c.address,spender:t}})})).catch((function(e){throw console.debug("Failed to approve token",e),e})));case 20:case"end":return n.stop()}}),n)}))),[u,c,m,e,t,b,i]);return[u,v]}(Be[J.a.LIQUIDITY],w.R),ut=Object(l.a)(dt,2),mt=ut[0],bt=ut[1],pt=Object(Y.a)();function Et(){return(Et=Object(s.a)(o.a.mark((function e(){var t,n,a,r,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(it&&De&&Ne&&tt){e.next=2;break}throw new Error("missing dependencies");case 2:if(t=Be[J.a.LIQUIDITY]){e.next=5;break}throw new Error("missing liquidity amount");case 5:if(!pt){e.next=7;break}return e.abrupt("return",bt());case 7:return e.next=9,it.nonces(_e);case 9:n=e.sent,a=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],r={name:"Uniswap V2",version:"1",chainId:he,verifyingContract:De.liquidityToken.address},i=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],s={owner:_e,spender:w.R,value:t.raw.toString(),nonce:n.toHexString(),deadline:tt.toNumber()},c=JSON.stringify({types:{EIP712Domain:a,Permit:i},domain:r,primaryType:"Permit",message:s}),Ne.send("eth_signTypedData_v4",[_e,c]).then(m.splitSignature).then((function(e){lt({v:e.v,r:e.r,s:e.s,deadline:tt.toNumber()})})).catch((function(e){4001!==(null===e||void 0===e?void 0:e.code)&&bt()}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt,gt,ft=Object(E.useCallback)((function(e,t){return lt(null),We(e,t)}),[We]),Rt=Object(re.a)(null!==Ce&&void 0!==Ce?Ce:void 0,null!==Oe&&void 0!==Oe?Oe:void 0,Le,$.a.CURRENCY_A,rt[J.a.CURRENCY_A]),Ct=Rt.parsedAmounts,Ot=Rt.liquidityMinted,jt=Rt.poolTokenPercentage,_t=Object(re.a)(null!==Ce&&void 0!==Ce?Ce:void 0,null!==Oe&&void 0!==Oe?Oe:void 0,Le,$.a.CURRENCY_B,rt[J.a.CURRENCY_B]),ht=_t.parsedAmounts,Nt=_t.liquidityMinted,yt=_t.poolTokenPercentage,It=Ot&&Nt?Ot.lessThan(Nt)?Ot:Nt:void 0,wt="",xt="",Ut=Be[J.a.CURRENCY_A],Tt=Be[J.a.CURRENCY_B];if(Le&&!Object(ie.a)(Le)){var Yt=Ct[$.a.CURRENCY_B],kt=ht[$.a.CURRENCY_A];if(Yt&&Tt&&kt&&Ut&&jt&&yt){var St=+Yt.toSignificant(6)<=+Tt.toSignificant(6)?Ct:ht;vt=St[$.a.CURRENCY_A],gt=St[$.a.CURRENCY_B],wt=+Yt.toSignificant(6)<=+Tt.toSignificant(6)?"".concat(Tt.subtract(Yt).toSignificant(6)," ").concat(null===xe||void 0===xe?void 0:xe.symbol):"".concat(Ut.subtract(kt).toSignificant(6)," ").concat(null===we||void 0===we?void 0:we.symbol),xt=+Yt.toSignificant(6)<=+Tt.toSignificant(6)?"".concat(null===jt||void 0===jt?void 0:jt.toSignificant(2),"%"):"".concat(null===yt||void 0===yt?void 0:yt.toSignificant(2),"%")}else vt=void 0,gt=void 0,wt="",xt=""}else vt=Ut,gt=Tt,xt="100%";var At=Object(S.d)();function Pt(){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(s.a)(o.a.mark((function e(){var t,n,i,s,l,d,u,m,E,v,g,f,R,C,O,j,_,h,N;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he&&Ne&&_e&&tt){e.next=2;break}throw new Error("missing dependencies");case 2:if(n=Be[J.a.CURRENCY_A],i=Be[J.a.CURRENCY_B],n&&i){e.next=5;break}throw new Error("missing currency amounts");case 5:if(s=Object(A.s)(he,Ne,_e),t={},Object(c.a)(t,J.a.CURRENCY_A,Object(A.c)(n,at)[0]),Object(c.a)(t,J.a.CURRENCY_B,Object(A.c)(i,at)[0]),l=t,Ce&&Oe){e.next=9;break}throw new Error("missing tokens");case 9:if(d=Be[J.a.LIQUIDITY]){e.next=12;break}throw new Error("missing liquidity amount");case 12:if(we&&xe){e.next=14;break}throw new Error("could not wrap");case 14:if(!Le||Object(ie.a)(Le)){e.next=38;break}if(Te[0][1]){e.next=17;break}return e.abrupt("return");case 17:if(v=Te[0][1].virtualReserveOf(Object(D.b)(Ce,he)),g=Te[0][1].virtualReserveOf(Object(D.b)(Oe,he)),f=b.g.divide(b.g.multiply(g.raw,b.g.exponentiate(b.g.BigInt(2),b.g.BigInt(112))),v.raw),R=b.g.divide(b.g.multiply(f,b.g.BigInt(at)),b.g.BigInt(1e4)),C=[b.g.subtract(f,R).toString(),b.g.add(f,R).toString()],vt&&gt){e.next=24;break}throw new Error("missing currency amounts");case 24:if(E={},Object(c.a)(E,J.a.CURRENCY_A,Object(A.c)(vt,at)[0]),Object(c.a)(E,J.a.CURRENCY_B,Object(A.c)(gt,at)[0]),O=E,mt!==a.APPROVED){e.next=30;break}u=["migrateLpToDmmPool"],m=[De?p.d.getAddress(null===De||void 0===De?void 0:De.token0,null===De||void 0===De?void 0:De.token1):"",we.address,xe.address,d.raw.toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),O[J.a.CURRENCY_A].toString(),O[J.a.CURRENCY_B].toString(),Le&&!Object(ie.a)(Le)?[Le,123,C]:[w.qb,1e4],tt.toHexString()],e.next=36;break;case 30:if(null===ct){e.next=35;break}u=["migrateLpToDmmPoolWithPermit"],m=[De?p.d.getAddress(null===De||void 0===De?void 0:De.token0,null===De||void 0===De?void 0:De.token1):"",we.address,xe.address,d.raw.toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),O[J.a.CURRENCY_A].toString(),O[J.a.CURRENCY_B].toString(),Le&&!Object(ie.a)(Le)?[Le,123,C]:[w.qb,1e4],ct.deadline,[!1,ct.v,ct.r,ct.s]],e.next=36;break;case 35:throw new Error("Attempting to confirm without approval or a signature. Please contact support.");case 36:e.next=49;break;case 38:if(mt!==a.APPROVED){e.next=43;break}u=["migrateLpToDmmPool"],m=[De?p.d.getAddress(null===De||void 0===De?void 0:De.token0,null===De||void 0===De?void 0:De.token1):"",we.address,xe.address,d.raw.toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),[w.qb,1e4,["0","0"]],tt.toHexString()],e.next=49;break;case 43:if(null===ct){e.next=48;break}u=["migrateLpToDmmPoolWithPermit"],m=[De?p.d.getAddress(null===De||void 0===De?void 0:De.token0,null===De||void 0===De?void 0:De.token1):"",we.address,xe.address,d.raw.toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),l[J.a.CURRENCY_A].toString(),l[J.a.CURRENCY_B].toString(),[w.qb,1e4,["0","0"]],ct.deadline,[!1,ct.v,ct.r,ct.s]],e.next=49;break;case 48:throw new Error("Attempting to confirm without approval or a signature. Please contact support.");case 49:return e.next=51,Promise.all(u.map((function(e){var t;return(t=s.estimateGas)[e].apply(t,Object(r.a)(m)).then(A.b).catch((function(t){console.error("estimateGas failed",e,m,t)}))})));case 51:if(j=e.sent,-1!==(_=j.findIndex((function(e){return ne.a.isBigNumber(e)})))){e.next=57;break}console.error("This transaction would fail. Please contact support."),e.next=62;break;case 57:return h=u[_],N=j[_],Ke(!0),e.next=62,s[h].apply(s,Object(r.a)(m).concat([{gasLimit:N}])).then((function(e){Ke(!1),At(e,{type:"Migrate"}),et(e.hash)})).catch((function(e){Ke(!1),console.error(e)}));case 62:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bt="Removing ".concat(null===(Ee=Be[J.a.CURRENCY_A])||void 0===Ee?void 0:Ee.toSignificant(6)," ").concat(null===Ce||void 0===Ce?void 0:Ce.symbol," and ").concat(null===(ve=Be[J.a.CURRENCY_B])||void 0===ve?void 0:ve.toSignificant(6)," ").concat(null===Oe||void 0===Oe?void 0:Oe.symbol),Lt=Object(E.useCallback)((function(e){ft(J.a.LIQUIDITY_PERCENT,e.toString())}),[ft]),qt=Ce===b.e||Oe===b.e,Wt=Object(E.useCallback)((function(){Fe(!1),lt(null),$e&&ft(J.a.LIQUIDITY_PERCENT,"0"),et("")}),[ft,$e]),zt=Object(P.a)(Number.parseInt(Be[J.a.LIQUIDITY_PERCENT].toFixed(0)),Lt),Vt=Object(l.a)(zt,2),Qt=Vt[0],Mt=Vt[1];function Ft(){var e,t;return v.a.createElement(O.d,null,v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.c,null,v.a.createElement("img",{src:"/favicon.png",alt:"uniswap-icon",style:{width:"20px",marginBottom:"3px"}}),v.a.createElement(f.d,{fontSize:14,fontWeight:500},"\xa0 ",v.a.createElement(d.b,{id:"Pool"})))),v.a.createElement(j.a,{gap:"10px",style:{marginTop:"10px",marginBottom:"10px"}},v.a.createElement(N.b,null,v.a.createElement(N.c,null,v.a.createElement(I.a,{currency:Ce}),v.a.createElement(I.a,{currency:Oe,style:{marginRight:"12px"}}),v.a.createElement(f.d,{fontSize:14,fontWeight:500},"DMM LP ",null===Ce||void 0===Ce?void 0:Ce.symbol,"-",null===Oe||void 0===Oe?void 0:Oe.symbol)),v.a.createElement(f.d,{fontSize:14,fontWeight:500},null===It||void 0===It?void 0:It.toSignificant(4)))),v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"Pool share"})),v.a.createElement(f.d,{fontSize:14,fontWeight:500},xt))),v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"Pooled {0}",values:{0:null===Ce||void 0===Ce?void 0:Ce.symbol}})),v.a.createElement(f.d,{fontSize:14,fontWeight:500},null===(e=vt)||void 0===e?void 0:e.toSignificant(6)))),v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"Pooled {0}",values:{0:null===Oe||void 0===Oe?void 0:Oe.symbol}})),v.a.createElement(f.d,{fontSize:14,fontWeight:500},null===(t=gt)||void 0===t?void 0:t.toSignificant(6)))),v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"AMP"})),v.a.createElement(f.d,{fontSize:14,fontWeight:500},"1"))),!!Le&&!Object(ie.a)(Le)&&v.a.createElement(v.a.Fragment,null,v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"Pool Address"})),v.a.createElement(N.c,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},Object(A.D)(Le,5))))),v.a.createElement(se,{style:{marginTop:"20px"}}),v.a.createElement(j.a,{gap:"10px",style:{marginTop:"20px"}},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"Estimated Refund"})),v.a.createElement(f.d,{fontSize:14,fontWeight:500},wt)))))}function Gt(){return v.a.createElement("div",{style:{marginTop:"20px"}},Ft())}function Ht(){return v.a.createElement(v.a.Fragment,null,v.a.createElement(C.h,{disabled:!(mt===a.APPROVED||null!==ct),onClick:Pt},v.a.createElement(f.d,{fontWeight:500,fontSize:20},v.a.createElement(d.b,{id:"Confirm"}))))}return v.a.createElement(v.a.Fragment,null,he&&qt?v.a.createElement(ae.a,{to:"/migrate/".concat(Ce===b.e?b.r[he].address:fe,"/").concat(Oe===b.e?b.r[he].address:Re)}):v.a.createElement(v.a.Fragment,null,v.a.createElement(B.a,null,v.a.createElement(h.c,null),v.a.createElement(L.c,null,v.a.createElement(_.c,{isOpen:Me,onDismiss:Wt,attemptingTxn:Xe,hash:$e||"",content:function(){return v.a.createElement(_.a,{title:u.a._("You will receive"),onDismiss:Wt,topContent:Gt,bottomContent:Ht})},pendingText:Bt}),v.a.createElement(j.a,{gap:"md"},v.a.createElement(O.d,null,v.a.createElement(j.a,{gap:"20px"},v.a.createElement(N.e,{style:{alignItems:"flex-end"}},v.a.createElement(f.d,{fontSize:72,fontWeight:500},rt[J.a.LIQUIDITY_PERCENT],"%")),v.a.createElement(v.a.Fragment,null,v.a.createElement(y.a,{value:Qt,onChange:Mt}),v.a.createElement(N.b,null,v.a.createElement(oe.h,{onClick:function(){return ft(J.a.LIQUIDITY_PERCENT,"25")},width:"20%"},"25%"),v.a.createElement(oe.h,{onClick:function(){return ft(J.a.LIQUIDITY_PERCENT,"50")},width:"20%"},"50%"),v.a.createElement(oe.h,{onClick:function(){return ft(J.a.LIQUIDITY_PERCENT,"75")},width:"20%"},"75%"),v.a.createElement(oe.h,{onClick:function(){return ft(J.a.LIQUIDITY_PERCENT,"100")},width:"20%"},v.a.createElement(d.b,{id:"Max"})))))),v.a.createElement(v.a.Fragment,null,v.a.createElement(j.b,null,v.a.createElement(g.a,{size:"16",color:Ue.text2})),v.a.createElement(O.d,null,v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.c,null,v.a.createElement("img",{src:n("./src/assets/svg/uniswap-icon.svg"),alt:"uniswap-icon"}),v.a.createElement(f.d,{fontSize:14,fontWeight:500},"\xa0 Uni Pool"))),v.a.createElement(j.a,{gap:"10px"},v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},rt[J.a.CURRENCY_A]||"-"),v.a.createElement(N.c,null,v.a.createElement(I.a,{currency:Ce,style:{marginRight:"12px"}}),v.a.createElement(f.d,{fontSize:14,fontWeight:500,id:"remove-liquidity-tokena-symbol"},null===Ce||void 0===Ce?void 0:Ce.symbol))),v.a.createElement(N.b,null,v.a.createElement(f.d,{fontSize:14,fontWeight:500},rt[J.a.CURRENCY_B]||"-"),v.a.createElement(N.c,null,v.a.createElement(I.a,{currency:Oe,style:{marginRight:"12px"}}),v.a.createElement(f.d,{fontSize:14,fontWeight:500,id:"remove-liquidity-tokenb-symbol"},null===Oe||void 0===Oe?void 0:Oe.symbol))))),v.a.createElement(j.b,null,v.a.createElement(g.a,{size:"16",color:Ue.text2})),Ft(),!Le||Object(ie.a)(Le)&&v.a.createElement(O.f,null,v.a.createElement(N.c,null,v.a.createElement("img",{src:n("./src/assets/svg/warning-icon.svg"),alt:"warning-icon",style:{marginRight:"20px"}}),v.a.createElement(f.d,{fontSize:14,fontWeight:500},v.a.createElement(d.b,{id:"There is no existing pool for this token pair. You will be creating a new pool with AMP=1 and migrating tokens from Uniswap to KyberSwap."})," ")))),v.a.createElement("div",{style:{position:"relative"}},_e?v.a.createElement(N.b,null,v.a.createElement(C.a,{onClick:function(){return Et.apply(this,arguments)},confirmed:mt===a.APPROVED||null!==ct,disabled:mt!==a.NOT_APPROVED||null!==ct,mr:"0.5rem",fontWeight:500,fontSize:16},mt===a.PENDING?v.a.createElement(V.c,null,v.a.createElement(d.b,{id:"Approving"})):mt===a.APPROVED||null!==ct?u.a._("Approved"):u.a._("Approve")),v.a.createElement(C.e,{onClick:function(){Fe(!0)},disabled:!ze||null===ct&&mt!==a.APPROVED,error:!ze&&!!Be[J.a.CURRENCY_A]&&!!Be[J.a.CURRENCY_B]},v.a.createElement(f.d,{fontSize:16,fontWeight:500},qe||u.a._("Migrate")))):v.a.createElement(C.f,{onClick:Ye},v.a.createElement(d.b,{id:"Connect Wallet"}))))))))}},"./src/state/mint/hooks_for_migration.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./node_modules/@lingui/core/esm/index.js"),o=n("./node_modules/@dynamic-amm/sdk/dist/sdk.esm.js"),s=n("./node_modules/react/index.js"),c=(n("./node_modules/react-redux/es/index.js"),n("./src/utils/dmm.ts")),l=n("./src/data/Reserves.ts"),d=n("./src/data/TotalSupply.ts"),u=n("./src/hooks/index.ts"),m=n("./src/utils/wrappedCurrency.ts"),b=n("./src/state/swap/hooks.ts"),p=n("./src/state/wallet/hooks.ts"),E=n("./src/state/mint/actions.ts"),v=o.g.BigInt(0);function g(e,t,n,g,f){var R,C,O,j,_,h,N,y=Object(u.b)(),I=y.account,w=y.chainId,x=g===E.a.CURRENCY_A?E.a.CURRENCY_B:E.a.CURRENCY_A,U=Object(s.useMemo)((function(){var n;return n={},Object(r.a)(n,E.a.CURRENCY_A,null!==e&&void 0!==e?e:void 0),Object(r.a)(n,E.a.CURRENCY_B,null!==t&&void 0!==t?t:void 0),n}),[e,t]),T=Object(m.b)(U[E.a.CURRENCY_A],w),Y=Object(m.b)(U[E.a.CURRENCY_B],w),k=Object(l.c)(T,Y,n),S=Object(a.a)(k,2),A=S[0],P=S[1],D=Object(l.f)(T,Y),B=Object(d.a)(null===P||void 0===P?void 0:P.liquidityToken),L=(A===l.a.NOT_EXISTS||Boolean(B&&o.g.equal(B.raw,v)))&&("WETH"!==(null===T||void 0===T?void 0:T.symbol)||"WETH"!==(null===Y||void 0===Y?void 0:Y.symbol)),q=Object(p.c)(null!==I&&void 0!==I?I:void 0,[U[E.a.CURRENCY_A],U[E.a.CURRENCY_B]]),W=(R={},Object(r.a)(R,E.a.CURRENCY_A,q[0]),Object(r.a)(R,E.a.CURRENCY_B,q[1]),R),z=Object(b.a)(f,U[g]),V=Object(s.useMemo)((function(){if(!L)if(z){var n=Object(m.c)(z,w),a=[Object(m.b)(e,w),Object(m.b)(t,w)],r=a[0],i=a[1];if(r&&i&&n&&P){var s=x===E.a.CURRENCY_B?t:e,c=x===E.a.CURRENCY_B?P.priceOfReal(r).quote(n):P.priceOfReal(i).quote(n);return s===o.e?o.c.ether(c.raw):c}}else;}),[L,"",U,x,z,e,w,t,P]),Q=(C={},Object(r.a)(C,E.a.CURRENCY_A,g===E.a.CURRENCY_A?z:V),Object(r.a)(C,E.a.CURRENCY_B,g===E.a.CURRENCY_A?V:z),C),M=Object(s.useMemo)((function(){if(L){var t=Q[E.a.CURRENCY_A],n=Q[E.a.CURRENCY_B];return t&&n?new o.k(t.currency,n.currency,t.raw,n.raw):void 0}var a=Object(m.b)(e,w);return P&&a?P.priceOfReal(a):void 0}),[w,e,L,P,Q]),F=Object(s.useMemo)((function(){var e=Q[E.a.CURRENCY_A],t=Q[E.a.CURRENCY_B],n=[Object(m.c)(e,w),Object(m.c)(t,w)],a=n[0],r=n[1];return P&&B&&a&&r?P.getLiquidityMinted(B,a,r):void 0}),[Q,w,P,B]),G=Object(s.useMemo)((function(){return F&&B?new o.j(F.raw,B.add(F).raw):void 0}),[F,B]);(I||(_=i.a._("Connect wallet")),n&&A===l.a.INVALID||"WETH"===(null===T||void 0===T?void 0:T.symbol)&&"WETH"===(null===Y||void 0===Y?void 0:Y.symbol))&&(_=null!==(h=_)&&void 0!==h?h:i.a._("Invalid pair"));Q[E.a.CURRENCY_A]&&Q[E.a.CURRENCY_B]||(_=null!==(N=_)&&void 0!==N?N:i.a._("Enter an amount"));var H=Q[E.a.CURRENCY_A],X=Q[E.a.CURRENCY_B],K=U[E.a.CURRENCY_A],J=U[E.a.CURRENCY_A];return K&&H&&(null===W||void 0===W||null===(O=W[E.a.CURRENCY_A])||void 0===O?void 0:O.lessThan(H))&&(_=i.a._("Insufficient {0} balance",{0:Object(c.b)(K,w).symbol})),J&&X&&(null===W||void 0===W||null===(j=W[E.a.CURRENCY_B])||void 0===j?void 0:j.lessThan(X))&&(_=i.a._("Insufficient {0} balance",{0:Object(c.b)(J,w).symbol})),{dependentField:x,currencies:U,pair:P,pairState:A,currencyBalances:W,parsedAmounts:Q,price:M,noLiquidity:L,liquidityMinted:F,poolTokenPercentage:G,error:_,unAmplifiedPairAddress:D}}}}]);